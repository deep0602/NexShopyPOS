{"ast":null,"code":"var _jsxFileName = \"/Users/deep/Desktop/POS SYSTEM/frontend/src/pages/InvoicePrint.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport jsPDF from 'jspdf';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InvoicePrint() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [invoice, setInvoice] = useState(null);\n  const [items, setItems] = useState([]);\n  const [customer, setCustomer] = useState(null);\n  useEffect(() => {\n    async function fetchData() {\n      const inv = await api.get(`/invoices/${id}`);\n      setInvoice(inv.data);\n      const its = await api.get('/invoice_items');\n      setItems(its.data.filter(i => i.invoiceId === Number(id)));\n      if (inv.data.customerId) {\n        const cust = await api.get(`/customers/${inv.data.customerId}`);\n        setCustomer(cust.data);\n      }\n    }\n    fetchData();\n  }, [id]);\n  const base64Logo = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAA35ElEQVR4nK19d5wVRRbuqeq+Ye6EO8...\"; // Full string\n\n  const handlePrint = () => {\n    const doc = new jsPDF({\n      unit: 'pt',\n      format: [226, 600]\n    }); // 58mm thermal size\n    let y = 30;\n\n    // Add Logo (top-left)\n\n    doc.addImage(base64Logo, 'PNG', 10, y, 40, 40);\n    ;\n    y += 45;\n\n    // Business Name\n    doc.setFontSize(14).setFont(undefined, 'bold');\n    doc.text('NexShopy POS', 60, y - 25);\n\n    // Address\n    doc.setFontSize(10).setFont(undefined, 'normal');\n    doc.text('Rajhat Delhi Road More,', 10, y);\n    y += 12;\n    doc.text('Bandel, Hooghly', 10, y);\n    y += 12;\n\n    // Contact Info\n    doc.text('Phone: 98765 43210', 10, y);\n    y += 12;\n    doc.text('Email: contact@nexshopy.com', 10, y);\n    y += 12;\n\n    // GST Number\n    doc.text('GSTIN: 22ABCDE1234F1Z5', 10, y); // Replace with your GST\n    y += 20;\n\n    // Invoice Details\n    doc.text(`Invoice #: ${invoice.invoiceNumber}`, 10, y);\n    y += 15;\n    doc.text(`Date: ${invoice.date}`, 10, y);\n    y += 15;\n    if (customer) {\n      doc.text(`Customer: ${customer.name}`, 10, y);\n      y += 15;\n    }\n\n    // Separator\n    doc.setDrawColor(150);\n    doc.line(10, y, 210, y);\n    y += 10;\n\n    // Table Headers\n    doc.setFont(undefined, 'bold');\n    doc.text('Qty  Item             Price   Disc   Total', 10, y);\n    doc.setFont(undefined, 'normal');\n    y += 15;\n\n    // Items\n    items.forEach(item => {\n      const total = (item.quantity * (item.price - item.discount)).toFixed(2);\n      doc.text(`${item.quantity}`.padEnd(4), 10, y);\n      doc.text(`${item.productId}`.padEnd(12), 35, y);\n      doc.text(`₹${item.price}`, 120, y, {\n        align: 'right'\n      });\n      doc.text(`₹${item.discount}`, 150, y, {\n        align: 'right'\n      });\n      doc.text(`₹${total}`, 210, y, {\n        align: 'right'\n      });\n      y += 15;\n    });\n\n    // Totals\n    y += 5;\n    doc.line(10, y, 210, y);\n    y += 15;\n    doc.setFont(undefined, 'bold');\n    doc.text(`Total: ₹${invoice.total}`, 210, y, {\n      align: 'right'\n    });\n    y += 20;\n\n    // Thank You Footer\n    doc.setFontSize(10).setFont(undefined, 'normal');\n    doc.text('Thank you for shopping with us!', 10, y);\n    y += 12;\n    doc.text('Terms: No refunds after 7 days.', 10, y);\n    y += 12;\n\n    // Powered by\n    doc.setFontSize(9).setFont(undefined, 'italic');\n    doc.text('Powered by NexShopy', 10, y);\n\n    // Save PDF\n    doc.save(`invoice-${invoice.invoiceNumber}.pdf`);\n  };\n  if (!invoice) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: [\"Invoice #\", invoice.invoiceNumber]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handlePrint,\n      children: \"Print / Download PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(InvoicePrint, \"VO4n1LkGeXvOMe0103bPJhsnyXw=\", false, function () {\n  return [useParams];\n});\n_c = InvoicePrint;\nexport default InvoicePrint;\nvar _c;\n$RefreshReg$(_c, \"InvoicePrint\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Button","Box","Typography","jsPDF","api","jsxDEV","_jsxDEV","InvoicePrint","_s","id","invoice","setInvoice","items","setItems","customer","setCustomer","fetchData","inv","get","data","its","filter","i","invoiceId","Number","customerId","cust","base64Logo","handlePrint","doc","unit","format","y","addImage","setFontSize","setFont","undefined","text","invoiceNumber","date","name","setDrawColor","line","forEach","item","total","quantity","price","discount","toFixed","padEnd","productId","align","save","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","color","onClick","_c","$RefreshReg$"],"sources":["/Users/deep/Desktop/POS SYSTEM/frontend/src/pages/InvoicePrint.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport jsPDF from 'jspdf';\nimport api from '../services/api';\n\nfunction InvoicePrint() {\n  const { id } = useParams();\n  const [invoice, setInvoice] = useState(null);\n  const [items, setItems] = useState([]);\n  const [customer, setCustomer] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const inv = await api.get(`/invoices/${id}`);\n      setInvoice(inv.data);\n      const its = await api.get('/invoice_items');\n      setItems(its.data.filter(i => i.invoiceId === Number(id)));\n      if (inv.data.customerId) {\n        const cust = await api.get(`/customers/${inv.data.customerId}`);\n        setCustomer(cust.data);\n      }\n    }\n    fetchData();\n  }, [id]);\n\n  const base64Logo = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAA35ElEQVR4nK19d5wVRRbuqeq+Ye6EO8...\"; // Full string\n\n  const handlePrint = () => {\n    const doc = new jsPDF({ unit: 'pt', format: [226, 600] }); // 58mm thermal size\n    let y = 30;\n  \n    // Add Logo (top-left)\n    \n    doc.addImage(base64Logo, 'PNG', 10, y, 40, 40); ;\n    y += 45;\n  \n    // Business Name\n    doc.setFontSize(14).setFont(undefined, 'bold');\n    doc.text('NexShopy POS', 60, y - 25);\n  \n    // Address\n    doc.setFontSize(10).setFont(undefined, 'normal');\n    doc.text('Rajhat Delhi Road More,', 10, y);\n    y += 12;\n    doc.text('Bandel, Hooghly', 10, y);\n    y += 12;\n  \n    // Contact Info\n    doc.text('Phone: 98765 43210', 10, y);\n    y += 12;\n    doc.text('Email: contact@nexshopy.com', 10, y);\n    y += 12;\n  \n    // GST Number\n    doc.text('GSTIN: 22ABCDE1234F1Z5', 10, y); // Replace with your GST\n    y += 20;\n  \n    // Invoice Details\n    doc.text(`Invoice #: ${invoice.invoiceNumber}`, 10, y);\n    y += 15;\n    doc.text(`Date: ${invoice.date}`, 10, y);\n    y += 15;\n    if (customer) {\n      doc.text(`Customer: ${customer.name}`, 10, y);\n      y += 15;\n    }\n  \n    // Separator\n    doc.setDrawColor(150);\n    doc.line(10, y, 210, y);\n    y += 10;\n  \n    // Table Headers\n    doc.setFont(undefined, 'bold');\n    doc.text('Qty  Item             Price   Disc   Total', 10, y);\n    doc.setFont(undefined, 'normal');\n    y += 15;\n  \n    // Items\n    items.forEach(item => {\n      const total = (item.quantity * (item.price - item.discount)).toFixed(2);\n      doc.text(`${item.quantity}`.padEnd(4), 10, y);\n      doc.text(`${item.productId}`.padEnd(12), 35, y);\n      doc.text(`₹${item.price}`, 120, y, { align: 'right' });\n      doc.text(`₹${item.discount}`, 150, y, { align: 'right' });\n      doc.text(`₹${total}`, 210, y, { align: 'right' });\n      y += 15;\n    });\n  \n    // Totals\n    y += 5;\n    doc.line(10, y, 210, y);\n    y += 15;\n    doc.setFont(undefined, 'bold');\n    doc.text(`Total: ₹${invoice.total}`, 210, y, { align: 'right' });\n    y += 20;\n  \n    // Thank You Footer\n    doc.setFontSize(10).setFont(undefined, 'normal');\n    doc.text('Thank you for shopping with us!', 10, y);\n    y += 12;\n    doc.text('Terms: No refunds after 7 days.', 10, y);\n    y += 12;\n  \n    // Powered by\n    doc.setFontSize(9).setFont(undefined, 'italic');\n    doc.text('Powered by NexShopy', 10, y);\n  \n    // Save PDF\n    doc.save(`invoice-${invoice.invoiceNumber}.pdf`);\n  };\n\n  if (!invoice) return <Typography>Loading...</Typography>;\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" gutterBottom>Invoice #{invoice.invoiceNumber}</Typography>\n      <Button variant=\"contained\" color=\"primary\" onClick={handlePrint}>Print / Download PDF</Button>\n      {/* Optionally render invoice details here for preview */}\n    </Box>\n  );\n}\n\nexport default InvoicePrint; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}