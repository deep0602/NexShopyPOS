{"ast":null,"code":"var _jsxFileName = \"/Users/deep/Desktop/POS SYSTEM/frontend/src/pages/InvoicePrint.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport jsPDF from 'jspdf';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InvoicePrint() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [invoice, setInvoice] = useState(null);\n  const [items, setItems] = useState([]);\n  const [customer, setCustomer] = useState(null);\n  useEffect(() => {\n    async function fetchData() {\n      const inv = await api.get(`/invoices/${id}`);\n      setInvoice(inv.data);\n      const its = await api.get('/invoice_items');\n      setItems(its.data.filter(i => i.invoiceId === Number(id)));\n      if (inv.data.customerId) {\n        const cust = await api.get(`/customers/${inv.data.customerId}`);\n        setCustomer(cust.data);\n      }\n    }\n    fetchData();\n  }, [id]);\n  const handlePrint = () => {\n    const doc = new jsPDF({\n      unit: 'pt',\n      format: [226, 600]\n    }); // 58mm width\n    doc.setFontSize(14);\n    doc.text('NexShopy POS', 10, 30);\n    doc.setFontSize(10);\n    doc.text('123 Market Street, City, Country', 10, 45);\n    doc.text(`Invoice #: ${invoice.invoiceNumber}`, 10, 65);\n    doc.text(`Date: ${invoice.date}`, 10, 80);\n    if (customer) {\n      doc.text(`Customer: ${customer.name}`, 10, 95);\n    }\n    let y = 115;\n    doc.text('Items:', 10, y);\n    y += 15;\n    items.forEach(item => {\n      doc.text(`${item.quantity} x ${item.productId} @ ₹${item.price} - ₹${item.discount} off`, 10, y);\n      y += 15;\n    });\n    y += 10;\n    doc.text(`Total: ₹${invoice.total}`, 10, y);\n    y += 15;\n    doc.text('Thank you for shopping with us!', 10, y);\n    doc.save(`invoice-${invoice.invoiceNumber}.pdf`);\n  };\n  if (!invoice) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: [\"Invoice #\", invoice.invoiceNumber]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handlePrint,\n      children: \"Print / Download PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(InvoicePrint, \"VO4n1LkGeXvOMe0103bPJhsnyXw=\", false, function () {\n  return [useParams];\n});\n_c = InvoicePrint;\nexport default InvoicePrint;\nvar _c;\n$RefreshReg$(_c, \"InvoicePrint\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Button","Box","Typography","jsPDF","api","jsxDEV","_jsxDEV","InvoicePrint","_s","id","invoice","setInvoice","items","setItems","customer","setCustomer","fetchData","inv","get","data","its","filter","i","invoiceId","Number","customerId","cust","handlePrint","doc","unit","format","setFontSize","text","invoiceNumber","date","name","y","forEach","item","quantity","productId","price","discount","total","save","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","color","onClick","_c","$RefreshReg$"],"sources":["/Users/deep/Desktop/POS SYSTEM/frontend/src/pages/InvoicePrint.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport jsPDF from 'jspdf';\nimport api from '../services/api';\n\nfunction InvoicePrint() {\n  const { id } = useParams();\n  const [invoice, setInvoice] = useState(null);\n  const [items, setItems] = useState([]);\n  const [customer, setCustomer] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const inv = await api.get(`/invoices/${id}`);\n      setInvoice(inv.data);\n      const its = await api.get('/invoice_items');\n      setItems(its.data.filter(i => i.invoiceId === Number(id)));\n      if (inv.data.customerId) {\n        const cust = await api.get(`/customers/${inv.data.customerId}`);\n        setCustomer(cust.data);\n      }\n    }\n    fetchData();\n  }, [id]);\n\n  const handlePrint = () => {\n    const doc = new jsPDF({ unit: 'pt', format: [226, 600] }); // 58mm width\n    doc.setFontSize(14);\n    doc.text('NexShopy POS', 10, 30);\n    doc.setFontSize(10);\n    doc.text('123 Market Street, City, Country', 10, 45);\n    doc.text(`Invoice #: ${invoice.invoiceNumber}`, 10, 65);\n    doc.text(`Date: ${invoice.date}`, 10, 80);\n    if (customer) {\n      doc.text(`Customer: ${customer.name}`, 10, 95);\n    }\n    let y = 115;\n    doc.text('Items:', 10, y);\n    y += 15;\n    items.forEach((item) => {\n      doc.text(`${item.quantity} x ${item.productId} @ ₹${item.price} - ₹${item.discount} off`, 10, y);\n      y += 15;\n    });\n    y += 10;\n    doc.text(`Total: ₹${invoice.total}`, 10, y);\n    y += 15;\n    doc.text('Thank you for shopping with us!', 10, y);\n    doc.save(`invoice-${invoice.invoiceNumber}.pdf`);\n  };\n\n  if (!invoice) return <Typography>Loading...</Typography>;\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" gutterBottom>Invoice #{invoice.invoiceNumber}</Typography>\n      <Button variant=\"contained\" color=\"primary\" onClick={handlePrint}>Print / Download PDF</Button>\n      {/* Optionally render invoice details here for preview */}\n    </Box>\n  );\n}\n\nexport default InvoicePrint; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}